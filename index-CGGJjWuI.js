var Be=Object.defineProperty;var Ue=(t,e,n)=>e in t?Be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var de=(t,e,n)=>Ue(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function k(){}function ie(t,e){for(const n in e)t[n]=e[n];return t}function Le(t){return t()}function we(){return Object.create(null)}function q(t){t.forEach(Le)}function me(t){return typeof t=="function"}function T(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Xe(t){return Object.keys(t).length===0}function Ie(t,...e){if(t==null){for(const s of e)s(void 0);return k}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ae(t,e,n){t.$$.on_destroy.push(Ie(e,n))}function h(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function Je(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function U(t){return document.createTextNode(t)}function C(){return U(" ")}function W(){return U("")}function A(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function Me(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ge(t){return Array.from(t.childNodes)}function Z(t,e){e=""+e,t.data!==e&&(t.data=e)}function oe(t,e){t.value=e??""}function Ke(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function le(t,e){return new t(e)}let ee;function Q(t){ee=t}function ae(){if(!ee)throw new Error("Function called outside component initialization");return ee}function ge(t){ae().$$.on_mount.push(t)}function Ve(t){ae().$$.after_update.push(t)}function We(t){ae().$$.on_destroy.push(t)}function Qe(){const t=ae();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=Ke(e,n,{cancelable:s});return o.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}function ve(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const G=[],$e=[];let K=[];const ke=[],qe=Promise.resolve();let he=!1;function Te(){he||(he=!0,qe.then(Fe))}function Re(){return Te(),qe}function _e(t){K.push(t)}const pe=new Set;let X=0;function Fe(){if(X!==0)return;const t=ee;do{try{for(;X<G.length;){const e=G[X];X++,Q(e),Ze(e.$$)}}catch(e){throw G.length=0,X=0,e}for(Q(null),G.length=0,X=0;$e.length;)$e.pop()();for(let e=0;e<K.length;e+=1){const n=K[e];pe.has(n)||(pe.add(n),n())}K.length=0}while(G.length);for(;ke.length;)ke.pop()();he=!1,pe.clear(),Q(t)}function Ze(t){if(t.fragment!==null){t.update(),q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}function et(t){const e=[],n=[];K.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),K=e}const re=new Set;let B;function te(){B={r:0,c:[],p:B}}function ne(){B.r||q(B.c),B=B.p}function P(t,e){t&&t.i&&(re.delete(t),t.i(e))}function D(t,e,n,s){if(t&&t.o){if(re.has(t))return;re.add(t),B.c.push(()=>{re.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function tt(t,e){D(t,1,1,()=>{e.delete(t.key)})}function nt(t,e,n,s,o,i,c,l,r,u,d,b){let w=t.length,v=i.length,m=w;const S={};for(;m--;)S[t[m].key]=m;const E=[],L=new Map,I=new Map,N=[];for(m=v;m--;){const p=b(o,i,m),$=n(p);let O=c.get($);O?N.push(()=>O.p(p,e)):(O=u($,p),O.c()),L.set($,E[m]=O),$ in S&&I.set($,Math.abs(m-S[$]))}const f=new Set,a=new Set;function _(p){P(p,1),p.m(l,d),c.set(p.key,p),d=p.first,v--}for(;w&&v;){const p=E[v-1],$=t[w-1],O=p.key,se=$.key;p===$?(d=p.first,w--,v--):L.has(se)?!c.has(O)||f.has(O)?_(p):a.has(se)?w--:I.get(O)>I.get(se)?(a.add(O),_(p)):(f.add(se),w--):(r($,c),w--)}for(;w--;){const p=t[w];L.has(p.key)||r(p,c)}for(;v;)_(E[v-1]);return q(N),E}function ue(t,e){const n={},s={},o={$$scope:1};let i=t.length;for(;i--;){const c=t[i],l=e[i];if(l){for(const r in c)r in l||(s[r]=1);for(const r in l)o[r]||(n[r]=l[r],o[r]=1);t[i]=l}else for(const r in c)o[r]=1}for(const c in s)c in n||(n[c]=void 0);return n}function fe(t){return typeof t=="object"&&t!==null?t:{}}function Y(t){t&&t.c()}function R(t,e,n){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),_e(()=>{const i=t.$$.on_mount.map(Le).filter(me);t.$$.on_destroy?t.$$.on_destroy.push(...i):q(i),t.$$.on_mount=[]}),o.forEach(_e)}function F(t,e){const n=t.$$;n.fragment!==null&&(et(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){t.$$.dirty[0]===-1&&(G.push(t),Te(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,n,s,o,i,c=null,l=[-1]){const r=ee;Q(t);const u=t.$$={fragment:null,ctx:[],props:i,update:k,not_equal:o,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:we(),dirty:l,skip_bound:!1,root:e.target||r.$$.root};c&&c(u.root);let d=!1;if(u.ctx=n?n(t,e.props||{},(b,w,...v)=>{const m=v.length?v[0]:w;return u.ctx&&o(u.ctx[b],u.ctx[b]=m)&&(!u.skip_bound&&u.bound[b]&&u.bound[b](m),d&&st(t,b)),w}):[],u.update(),d=!0,q(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const b=Ge(e.target);u.fragment&&u.fragment.l(b),b.forEach(x)}else u.fragment&&u.fragment.c();e.intro&&P(t.$$.fragment),R(t,e.target,e.anchor),Fe()}Q(r)}class z{constructor(){de(this,"$$");de(this,"$$set")}$destroy(){F(this,1),this.$destroy=k}$on(e,n){if(!me(n))return k;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!Xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ot);const J=[];function He(t,e){return{subscribe:be(t,e).subscribe}}function be(t,e=k){let n;const s=new Set;function o(l){if(T(t,l)&&(t=l,n)){const r=!J.length;for(const u of s)u[1](),J.push(u,t);if(r){for(let u=0;u<J.length;u+=2)J[u][0](J[u+1]);J.length=0}}}function i(l){o(l(t))}function c(l,r=k){const u=[l,r];return s.add(u),s.size===1&&(n=e(o,i)||k),l(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:c}}function ze(t,e,n){const s=!Array.isArray(t),o=s?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return He(n,(c,l)=>{let r=!1;const u=[];let d=0,b=k;const w=()=>{if(d)return;b();const m=e(s?u[0]:u,c,l);i?c(m):b=me(m)?m:k},v=o.map((m,S)=>Ie(m,E=>{u[S]=E,d&=~(1<<S),r&&w()},()=>{d|=1<<S}));return r=!0,w(),function(){q(v),b(),r=!1}})}function rt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,o,i,c=[],l="",r=t.split("/");for(r[0]||r.shift();o=r.shift();)n=o[0],n==="*"?(c.push("wild"),l+="/(.*)"):n===":"?(s=o.indexOf("?",1),i=o.indexOf(".",1),c.push(o.substring(1,~s?s:~i?i:o.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+o.substring(i))):l+="/"+o;return{keys:c,pattern:new RegExp("^"+l+"/?$","i")}}function it(t){let e,n,s;const o=[t[2]];var i=t[0];function c(l,r){let u={};for(let d=0;d<o.length;d+=1)u=ie(u,o[d]);return r!==void 0&&r&4&&(u=ie(u,ue(o,[fe(l[2])]))),{props:u}}return i&&(e=le(i,c(t)),e.$on("routeEvent",t[7])),{c(){e&&Y(e.$$.fragment),n=W()},m(l,r){e&&R(e,l,r),j(l,n,r),s=!0},p(l,r){if(r&1&&i!==(i=l[0])){if(e){te();const u=e;D(u.$$.fragment,1,0,()=>{F(u,1)}),ne()}i?(e=le(i,c(l,r)),e.$on("routeEvent",l[7]),Y(e.$$.fragment),P(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(i){const u=r&4?ue(o,[fe(l[2])]):{};e.$set(u)}},i(l){s||(e&&P(e.$$.fragment,l),s=!0)},o(l){e&&D(e.$$.fragment,l),s=!1},d(l){l&&x(n),e&&F(e,l)}}}function lt(t){let e,n,s;const o=[{params:t[1]},t[2]];var i=t[0];function c(l,r){let u={};for(let d=0;d<o.length;d+=1)u=ie(u,o[d]);return r!==void 0&&r&6&&(u=ie(u,ue(o,[r&2&&{params:l[1]},r&4&&fe(l[2])]))),{props:u}}return i&&(e=le(i,c(t)),e.$on("routeEvent",t[6])),{c(){e&&Y(e.$$.fragment),n=W()},m(l,r){e&&R(e,l,r),j(l,n,r),s=!0},p(l,r){if(r&1&&i!==(i=l[0])){if(e){te();const u=e;D(u.$$.fragment,1,0,()=>{F(u,1)}),ne()}i?(e=le(i,c(l,r)),e.$on("routeEvent",l[6]),Y(e.$$.fragment),P(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else if(i){const u=r&6?ue(o,[r&2&&{params:l[1]},r&4&&fe(l[2])]):{};e.$set(u)}},i(l){s||(e&&P(e.$$.fragment,l),s=!0)},o(l){e&&D(e.$$.fragment,l),s=!1},d(l){l&&x(n),e&&F(e,l)}}}function ct(t){let e,n,s,o;const i=[lt,it],c=[];function l(r,u){return r[1]?0:1}return e=l(t),n=c[e]=i[e](t),{c(){n.c(),s=W()},m(r,u){c[e].m(r,u),j(r,s,u),o=!0},p(r,[u]){let d=e;e=l(r),e===d?c[e].p(r,u):(te(),D(c[d],1,1,()=>{c[d]=null}),ne(),n=c[e],n?n.p(r,u):(n=c[e]=i[e](r),n.c()),P(n,1),n.m(s.parentNode,s))},i(r){o||(P(n),o=!0)},o(r){D(n),o=!1},d(r){r&&x(s),c[e].d(r)}}}function Ee(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const ye=He(null,function(e){e(Ee());const n=()=>{e(Ee())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),Ye=ze(ye,t=>t.location);ze(ye,t=>t.querystring);const Se=be(void 0);async function M(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Re(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function ut(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ft(t,e,n){let{routes:s={}}=e,{prefix:o=""}=e,{restoreScrollState:i=!1}=e;class c{constructor(a,_){if(!_||typeof _!="function"&&(typeof _!="object"||_._sveltesparouter!==!0))throw Error("Invalid component object");if(!a||typeof a=="string"&&(a.length<1||a.charAt(0)!="/"&&a.charAt(0)!="*")||typeof a=="object"&&!(a instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:p,keys:$}=rt(a);this.path=a,typeof _=="object"&&_._sveltesparouter===!0?(this.component=_.component,this.conditions=_.conditions||[],this.userData=_.userData,this.props=_.props||{}):(this.component=()=>Promise.resolve(_),this.conditions=[],this.props={}),this._pattern=p,this._keys=$}match(a){if(o){if(typeof o=="string")if(a.startsWith(o))a=a.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const O=a.match(o);if(O&&O[0])a=a.substr(O[0].length)||"/";else return null}}const _=this._pattern.exec(a);if(_===null)return null;if(this._keys===!1)return _;const p={};let $=0;for(;$<this._keys.length;){try{p[this._keys[$]]=decodeURIComponent(_[$+1]||"")||null}catch{p[this._keys[$]]=null}$++}return p}async checkConditions(a){for(let _=0;_<this.conditions.length;_++)if(!await this.conditions[_](a))return!1;return!0}}const l=[];s instanceof Map?s.forEach((f,a)=>{l.push(new c(a,f))}):Object.keys(s).forEach(f=>{l.push(new c(f,s[f]))});let r=null,u=null,d={};const b=Qe();async function w(f,a){await Re(),b(f,a)}let v=null,m=null;i&&(m=f=>{f.state&&(f.state.__svelte_spa_router_scrollY||f.state.__svelte_spa_router_scrollX)?v=f.state:v=null},window.addEventListener("popstate",m),Ve(()=>{ut(v)}));let S=null,E=null;const L=ye.subscribe(async f=>{S=f;let a=0;for(;a<l.length;){const _=l[a].match(f.location);if(!_){a++;continue}const p={route:l[a].path,location:f.location,querystring:f.querystring,userData:l[a].userData,params:_&&typeof _=="object"&&Object.keys(_).length?_:null};if(!await l[a].checkConditions(p)){n(0,r=null),E=null,w("conditionsFailed",p);return}w("routeLoading",Object.assign({},p));const $=l[a].component;if(E!=$){$.loading?(n(0,r=$.loading),E=$,n(1,u=$.loadingParams),n(2,d={}),w("routeLoaded",Object.assign({},p,{component:r,name:r.name,params:u}))):(n(0,r=null),E=null);const O=await $();if(f!=S)return;n(0,r=O&&O.default||O),E=$}_&&typeof _=="object"&&Object.keys(_).length?n(1,u=_):n(1,u=null),n(2,d=l[a].props),w("routeLoaded",Object.assign({},p,{component:r,name:r.name,params:u})).then(()=>{Se.set(u)});return}n(0,r=null),E=null,Se.set(void 0)});We(()=>{L(),m&&window.removeEventListener("popstate",m)});function I(f){ve.call(this,t,f)}function N(f){ve.call(this,t,f)}return t.$$set=f=>{"routes"in f&&n(3,s=f.routes),"prefix"in f&&n(4,o=f.prefix),"restoreScrollState"in f&&n(5,i=f.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[r,u,d,s,o,i,I,N]}class at extends z{constructor(e){super(),H(this,e,ft,ct,T,{routes:3,prefix:4,restoreScrollState:5})}}function dt(t){let e,n,s,o,i,c,l,r,u;return{c(){e=g("header"),n=g("div"),n.textContent="Davide's Notebook",s=C(),o=g("div"),i=g("a"),i.innerHTML='<span class="material-icons svelte-1yxh55u">home</span>',c=C(),l=g("button"),l.textContent="New Note",y(n,"class","logo svelte-1yxh55u"),y(i,"href","/"),y(i,"class","home-icon svelte-1yxh55u"),y(l,"class","svelte-1yxh55u"),y(o,"class","actions svelte-1yxh55u"),y(e,"class","svelte-1yxh55u")},m(d,b){j(d,e,b),h(e,n),h(e,s),h(e,o),h(o,i),h(o,c),h(o,l),r||(u=[A(n,"click",t[0]),A(i,"click",Me(t[0])),A(l,"click",t[1])],r=!0)},p:k,i:k,o:k,d(d){d&&x(e),r=!1,q(u)}}}function pt(t){function e(){M("/")}function n(){M("/new")}return[e,n]}class ht extends z{constructor(e){super(),H(this,e,pt,dt,T,{})}}function _t(t){let e,n,s;return{c(){e=g("footer"),n=g("div"),s=g("p"),s.textContent=`© ${new Date().getFullYear()}`,y(n,"class","copyright svelte-ir2tnp"),y(e,"class","svelte-ir2tnp")},m(o,i){j(o,e,i),h(e,n),h(n,s)},p:k,i:k,o:k,d(o){o&&x(e)}}}class mt extends z{constructor(e){super(),H(this,e,null,_t,T,{})}}function gt(t){let e,n,s=t[0].title+"",o,i,c;return{c(){e=g("article"),n=g("h2"),o=U(s),y(n,"class","svelte-5hj84g"),y(e,"class","svelte-5hj84g")},m(l,r){j(l,e,r),h(e,n),h(n,o),i||(c=A(e,"click",t[1]),i=!0)},p(l,[r]){r&1&&s!==(s=l[0].title+"")&&Z(o,s)},i:k,o:k,d(l){l&&x(e),i=!1,c()}}}function bt(t,e,n){let{post:s}=e;function o(){M(`/post/${s.id}`)}return t.$$set=i=>{"post"in i&&n(0,s=i.post)},[s,o]}class yt extends z{constructor(e){super(),H(this,e,bt,gt,T,{post:0})}}const Ne=localStorage.getItem("notebook-posts"),wt=Ne?JSON.parse(Ne):[],V=be(wt);V.subscribe(t=>{localStorage.setItem("notebook-posts",JSON.stringify(t))});function Oe(t,e,n){const s=t.slice();return s[1]=e[n],s}function vt(t){let e=[],n=new Map,s,o,i=ce(t[0]);const c=l=>l[1].id;for(let l=0;l<i.length;l+=1){let r=Oe(t,i,l),u=c(r);n.set(u,e[l]=xe(u,r))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();s=W()},m(l,r){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,r);j(l,s,r),o=!0},p(l,r){r&1&&(i=ce(l[0]),te(),e=nt(e,r,c,1,l,i,n,s.parentNode,tt,xe,s,Oe),ne())},i(l){if(!o){for(let r=0;r<i.length;r+=1)P(e[r]);o=!0}},o(l){for(let r=0;r<e.length;r+=1)D(e[r]);o=!1},d(l){l&&x(s);for(let r=0;r<e.length;r+=1)e[r].d(l)}}}function $t(t){let e;return{c(){e=g("div"),e.innerHTML="<p>No notes yet. Create your first note by clicking &quot;New Note&quot;.</p>",y(e,"class","empty-state svelte-1pnjoez")},m(n,s){j(n,e,s)},p:k,i:k,o:k,d(n){n&&x(e)}}}function xe(t,e){let n,s,o;return s=new yt({props:{post:e[1]}}),{key:t,first:null,c(){n=W(),Y(s.$$.fragment),this.first=n},m(i,c){j(i,n,c),R(s,i,c),o=!0},p(i,c){e=i;const l={};c&1&&(l.post=e[1]),s.$set(l)},i(i){o||(P(s.$$.fragment,i),o=!0)},o(i){D(s.$$.fragment,i),o=!1},d(i){i&&x(n),F(s,i)}}}function kt(t){let e,n,s,o;const i=[$t,vt],c=[];function l(r,u){return r[0].length===0?0:1}return n=l(t),s=c[n]=i[n](t),{c(){e=g("div"),s.c(),y(e,"class","home svelte-1pnjoez")},m(r,u){j(r,e,u),c[n].m(e,null),o=!0},p(r,[u]){let d=n;n=l(r),n===d?c[n].p(r,u):(te(),D(c[d],1,1,()=>{c[d]=null}),ne(),s=c[n],s?s.p(r,u):(s=c[n]=i[n](r),s.c()),P(s,1),s.m(e,null))},i(r){o||(P(s),o=!0)},o(r){D(s),o=!1},d(r){r&&x(e),c[n].d()}}}function Et(t,e,n){let s=[];return ge(()=>{V.subscribe(o=>{n(0,s=o.sort((i,c)=>new Date(c.date).getTime()-new Date(i.date).getTime()))})}),[s]}class St extends z{constructor(e){super(),H(this,e,Et,kt,T,{})}}function je(t){const e=new Date(t);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(e)}function Pe(t,e,n){const s=t.slice();return s[5]=e[n],s}function Nt(t){let e,n,s=t[0].title+"",o,i,c,l,r=je(t[0].date)+"",u,d,b,w,v,m,S,E,L,I,N=ce(t[0].content.split(`
`)),f=[];for(let a=0;a<N.length;a+=1)f[a]=Ce(Pe(t,N,a));return{c(){e=g("article"),n=g("h1"),o=U(s),i=C(),c=g("div"),l=g("time"),u=U(r),d=C(),b=g("div");for(let a=0;a<f.length;a+=1)f[a].c();w=C(),v=g("div"),m=g("button"),m.textContent="Edit",S=C(),E=g("button"),E.textContent="Delete",y(c,"class","meta svelte-1r2pyn9"),y(b,"class","content svelte-1r2pyn9"),y(E,"class","delete svelte-1r2pyn9"),y(v,"class","actions svelte-1r2pyn9"),y(e,"class","post svelte-1r2pyn9")},m(a,_){j(a,e,_),h(e,n),h(n,o),h(e,i),h(e,c),h(c,l),h(l,u),h(e,d),h(e,b);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(b,null);h(e,w),h(e,v),h(v,m),h(v,S),h(v,E),L||(I=[A(m,"click",t[2]),A(E,"click",t[3])],L=!0)},p(a,_){if(_&1&&s!==(s=a[0].title+"")&&Z(o,s),_&1&&r!==(r=je(a[0].date)+"")&&Z(u,r),_&1){N=ce(a[0].content.split(`
`));let p;for(p=0;p<N.length;p+=1){const $=Pe(a,N,p);f[p]?f[p].p($,_):(f[p]=Ce($),f[p].c(),f[p].m(b,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=N.length}},d(a){a&&x(e),Je(f,a),L=!1,q(I)}}}function Ot(t){let e;return{c(){e=g("div"),e.textContent="Loading...",y(e,"class","loading svelte-1r2pyn9")},m(n,s){j(n,e,s)},p:k,d(n){n&&x(e)}}}function Ce(t){let e,n=t[5]+"",s;return{c(){e=g("p"),s=U(n),y(e,"class","svelte-1r2pyn9")},m(o,i){j(o,e,i),h(e,s)},p(o,i){i&1&&n!==(n=o[5]+"")&&Z(s,n)},d(o){o&&x(e)}}}function xt(t){let e;function n(i,c){if(i[1])return Ot;if(i[0])return Nt}let s=n(t),o=s&&s(t);return{c(){o&&o.c(),e=W()},m(i,c){o&&o.m(i,c),j(i,e,c)},p(i,[c]){s===(s=n(i))&&o?o.p(i,c):(o&&o.d(1),o=s&&s(i),o&&(o.c(),o.m(e.parentNode,e)))},i:k,o:k,d(i){i&&x(e),o&&o.d(i)}}}function jt(t,e,n){let s;Ae(t,Ye,r=>n(4,s=r));let o,i=!0;ge(()=>{const r=s.split("/").pop()||"";return V.subscribe(d=>{n(0,o=d.find(b=>b.id===r)),n(1,i=!1),!o&&!i&&M("/")})});function c(){o&&M(`/edit/${o.id}`)}function l(){o&&confirm("Are you sure you want to delete this note?")&&(V.update(r=>r.filter(u=>u.id!==o.id)),M("/"))}return[o,i,c,l]}class Pt extends z{constructor(e){super(),H(this,e,jt,xt,T,{})}}function Ct(){return Date.now().toString(36)+Math.random().toString(36).substring(2,9)}function Dt(t){let e,n,s=t[2]?"Edit Note":"New Note",o,i,c,l,r,u,d,b,w,v,m,S,E,L,I;return{c(){e=g("div"),n=g("h1"),o=U(s),i=C(),c=g("form"),l=g("div"),r=g("input"),u=C(),d=g("div"),b=g("textarea"),w=C(),v=g("div"),m=g("button"),m.textContent="Save",S=C(),E=g("button"),E.textContent="Cancel",y(n,"class","svelte-1ib8eng"),y(r,"type","text"),y(r,"placeholder","Title"),r.autofocus=!0,y(r,"class","svelte-1ib8eng"),y(l,"class","form-group svelte-1ib8eng"),y(b,"placeholder","Start writing..."),y(b,"class","svelte-1ib8eng"),y(d,"class","form-group svelte-1ib8eng"),y(m,"type","submit"),y(E,"type","button"),y(E,"class","cancel svelte-1ib8eng"),y(v,"class","actions svelte-1ib8eng"),y(e,"class","editor svelte-1ib8eng")},m(N,f){j(N,e,f),h(e,n),h(n,o),h(e,i),h(e,c),h(c,l),h(l,r),oe(r,t[0]),h(c,u),h(c,d),h(d,b),oe(b,t[1]),h(c,w),h(c,v),h(v,m),h(v,S),h(v,E),r.focus(),L||(I=[A(r,"input",t[5]),A(b,"input",t[6]),A(E,"click",t[4]),A(c,"submit",Me(t[3]))],L=!0)},p(N,[f]){f&4&&s!==(s=N[2]?"Edit Note":"New Note")&&Z(o,s),f&1&&r.value!==N[0]&&oe(r,N[0]),f&2&&oe(b,N[1])},i:k,o:k,d(N){N&&x(e),L=!1,q(I)}}}function Lt(t,e,n){let s;Ae(t,Ye,w=>n(8,s=w));let o="",i="",c=!1,l="";ge(()=>{const w=s.split("/");if(n(2,c=w[1]==="edit"),c)return l=w[2]||"",V.subscribe(m=>{const S=m.find(E=>E.id===l);S?(n(0,o=S.title),n(1,i=S.content)):M("/")})});function r(){if(!o.trim()){alert("Please enter a title");return}const w={id:c?l:Ct(),title:o.trim(),content:i.trim(),date:c?new Date().toISOString():new Date().toISOString()};V.update(v=>c?v.map(m=>m.id===l?w:m):[...v,w]),M(`/post/${w.id}`)}function u(){M(c?`/post/${l}`:"/")}function d(){o=this.value,n(0,o)}function b(){i=this.value,n(1,i)}return[o,i,c,r,u,d,b]}class De extends z{constructor(e){super(),H(this,e,Lt,Dt,T,{})}}function It(t){let e,n,s,o,i,c,l,r;return{c(){e=g("div"),n=g("h1"),n.textContent="Page Not Found",s=C(),o=g("p"),o.textContent="The page you're looking for doesn't exist.",i=C(),c=g("button"),c.textContent="Go Home",y(n,"class","svelte-f5s9nv"),y(o,"class","svelte-f5s9nv"),y(e,"class","not-found svelte-f5s9nv")},m(u,d){j(u,e,d),h(e,n),h(e,s),h(e,o),h(e,i),h(e,c),l||(r=A(c,"click",t[0]),l=!0)},p:k,i:k,o:k,d(u){u&&x(e),l=!1,r()}}}function At(t){function e(){M("/")}return[e]}class Mt extends z{constructor(e){super(),H(this,e,At,It,T,{})}}function qt(t){let e,n,s,o,i,c,l;return n=new ht({}),o=new at({props:{routes:t[0]}}),c=new mt({}),{c(){e=g("main"),Y(n.$$.fragment),s=C(),Y(o.$$.fragment),i=C(),Y(c.$$.fragment),y(e,"class","svelte-theyqk")},m(r,u){j(r,e,u),R(n,e,null),h(e,s),R(o,e,null),h(e,i),R(c,e,null),l=!0},p:k,i(r){l||(P(n.$$.fragment,r),P(o.$$.fragment,r),P(c.$$.fragment,r),l=!0)},o(r){D(n.$$.fragment,r),D(o.$$.fragment,r),D(c.$$.fragment,r),l=!1},d(r){r&&x(e),F(n),F(o),F(c)}}}function Tt(t){return[{"/":St,"/post/:id":Pt,"/new":De,"/edit/:id":De,"*":Mt}]}class Rt extends z{constructor(e){super(),H(this,e,Tt,qt,T,{})}}new Rt({target:document.getElementById("app")});
